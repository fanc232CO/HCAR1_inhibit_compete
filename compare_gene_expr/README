Step 1. Build a conda environment with pandas, numpy, scipy and cmapPy. "cmapPy_env" for example.
        There's a tip that, you should build the conda environment by installing h5py first, and then cmapPy can be easily installed.
Step 2. Submit you target to STRING database (https://cn.string-db.org/) to get the gene set list of your target, named "string_interactions_short.tsv". Expand gene list to about 100 genes.
Step 3. Run the script of "make_gene_list.sh" to get the gene set list as input.
Step 4. Switch to the cmapPy_env, and run the script of "compare_gene_expr.py", you'll got the output file named "gene_expr_cos_simi.txt"
Step 5. In Bash command, run "sort -k2,2gr gene_expr_cos_simi.txt|grep 'BRD'|head -n 100|cut -d ':' -f 2|cut -d '-' -f 1,2 > active_top100_BRD.list". 
This part completed.
